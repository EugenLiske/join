<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: contacts/contacts_ui_helpers.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: contacts/contacts_ui_helpers.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// MF - contacts_ui_helpers.js

/**
 * Contacts UI Helpers Module
 * DOM manipulation and UI update functions
 */

import { generateInitials } from './contacts_validation.js';

/**
 * Updates visual validation state of form input fields
 * @param {HTMLElement} inputElement - The input element to style
 * @param {Object} validationResult - Validation result object with isValid and message
 */
export function updateFieldValidation(inputElement, validationResult) {
    if (!inputElement) return;
    
    const errorElement = inputElement.parentElement.querySelector('.input_error');
    
    if (validationResult.isValid) {
        setValidState(inputElement, errorElement);
    } else if (inputElement.value.length > 0) {
        setErrorState(inputElement, errorElement, validationResult.message);
    } else {
        setDefaultState(inputElement, errorElement);
    }
}

function setValidState(inputElement, errorElement) {
    inputElement.style.borderColor = 'var(--c-active)';
    inputElement.title = '';
    if (errorElement) {
        errorElement.textContent = '';
        errorElement.classList.remove('show');
    }
}

function setErrorState(inputElement, errorElement, message) {
    
    inputElement.style.borderColor = 'var(--c-warn)';
    inputElement.title = message;
    
    if (errorElement) {
        errorElement.textContent = message;
        errorElement.classList.add('show');
    } 
}

function setDefaultState(inputElement, errorElement) {
    inputElement.style.borderColor = 'var(--c-default)';
    inputElement.title = '';
    if (errorElement) {
        errorElement.textContent = '';
        errorElement.classList.remove('show');
    }
}

/**
 * Updates avatar preview with initials or default icon
 * @param {string} name - Full name to generate initials from
 */
export function updateAvatarPreview(name) {
    const avatarInitials = document.getElementById('avatar_initials');
    if (!avatarInitials) return;
    
    const initials = generateInitials(name);
    if (initials.length > 0) {
        avatarInitials.textContent = initials;
    } else {
        avatarInitials.innerHTML = '&lt;img src="../../assets/img/icons/form/person.svg" class="input_field_icon" alt="Person Icon" />';
    }
}

/**
 * Updates save button state based on form validation
 * @param {boolean} isFormValid - Whether the entire form is valid
 */
export function updateSaveButtonState(isFormValid) {
    const saveButton = document.getElementById('save_button');
    if (!saveButton) return;
    
    saveButton.disabled = !isFormValid;
    
    if (isFormValid) {
        saveButton.classList.remove('disabled');
    } else {
        saveButton.classList.add('disabled');
    }
}




export function displayContactSuccess(contactData) {
    if (!contactData) return;
    
    updateContactDisplayElements(contactData);
    updateContactAvatar(contactData);
    setupContactButtons(contactData);
}

function updateContactDisplayElements(contactData) {
    const contentHeadName = document.getElementById('content_head_name');
    const contactEmailDisplay = document.getElementById('contact_email');
    const contactPhoneDisplay = document.getElementById('contact_phone');
    
    if (contentHeadName) contentHeadName.textContent = contactData.name;
    if (contactEmailDisplay) contactEmailDisplay.textContent = contactData.email;
    if (contactPhoneDisplay) contactPhoneDisplay.textContent = contactData.phone;
}

function updateContactAvatar(contactData) {
    const contactAvatar = document.getElementById('contact_avatar');
    const avatarInitials = document.getElementById('avatar_initials');
    
    if (contactData.avatarColor &amp;&amp; contactAvatar) {
        contactAvatar.style.backgroundColor = contactData.avatarColor;
    }
    
    if (avatarInitials) {
        const initials = generateInitials(contactData.name);
        avatarInitials.textContent = initials;
    }
}

function setupContactButtons(contactData) {
    if (!contactData.id) return;
    
    const editButton = document.getElementById('edit_contact_btn');
    if (editButton) {
        editButton.onclick = () => window.editContact(contactData.id);
    }
    
    const deleteButton = document.getElementById('delete_contact_btn');
    if (deleteButton) {
        deleteButton.onclick = () => window.deleteContactFromSuccessPage(contactData.id);
    }
}


/**
 * Displays contact data in form input fields for editing
 * @param {Object} contactData - Contact object with name, email, phone, avatarColor
 */
export function displayContactDataInForm(contactData) {
    const nameInput = document.getElementById('name_input');
    const emailInput = document.getElementById('email_input');
    const phoneInput = document.getElementById('telephone_input');
    const contactAvatar = document.getElementById('contact_avatar');
    
    if (nameInput) nameInput.value = contactData.name || '';
    if (emailInput) emailInput.value = contactData.email || '';
    if (phoneInput) phoneInput.value = contactData.phone || '';
    
    if (contactData.avatarColor &amp;&amp; contactAvatar) {
        contactAvatar.style.backgroundColor = contactData.avatarColor;
    }
    
    updateAvatarPreview(contactData.name);
}

/**
 * Clears all form inputs and resets styling
 */
export function clearFormInputs() {    
    const nameInput = document.getElementById('name_input');
    const emailInput = document.getElementById('email_input');
    const phoneInput = document.getElementById('telephone_input');
    const avatarInitials = document.getElementById('avatar_initials');    
    
    if (nameInput) nameInput.value = '';
    if (emailInput) emailInput.value = '';
    if (phoneInput) phoneInput.value = '';
    
    if (nameInput) {
        nameInput.style.borderColor = 'var(--c-default)';
        nameInput.title = '';
    }
    if (emailInput) {
        emailInput.style.borderColor = 'var(--c-default)';
        emailInput.title = '';
    }
    if (phoneInput) {
        phoneInput.style.borderColor = 'var(--c-default)';
        phoneInput.title = '';
    }    
    if (avatarInitials) {
        avatarInitials.innerHTML = '&lt;img src="../../assets/img/icons/form/person.svg" class="input_field_icon" alt="Person Icon" />';
    }
}

/**
 * Updates button text and disabled state during operations
 * @param {string} text - Text to display on button
 * @param {boolean} disabled - Whether button should be disabled
 */
export function updateButtonState(text, disabled = false) {
    const saveButton = document.getElementById('save_button');
    const buttonText = document.getElementById('button_text');
    
    if (saveButton) {
        saveButton.disabled = disabled;
    }
    
    if (buttonText) {
        buttonText.textContent = text;
    }
}


/**
 * Shows a toast notification message
 * @param {string} message - The message text to display
 * @param {string} type - Message type for styling ('success', 'error', 'warning', 'info')
 * @param {number} duration - Duration in milliseconds before auto-hide (default: 3000)
 * @returns {HTMLElement} The created toast element
 */

export function showOverlayMessage(message, type = 'success', duration = 3000) {
    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    
    const messageBox = document.createElement('div');
    messageBox.className = 'overlay_message';
    messageBox.textContent = message;
    
    overlay.appendChild(messageBox);
    document.body.appendChild(overlay);
    
    setTimeout(() => {
        overlay.classList.add('active');
        messageBox.classList.add('enter');
    }, 10);
    
    setTimeout(() => {
        overlay.classList.add('leaving');
        setTimeout(() => overlay.remove(), 300);
    }, duration);
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#BASE_URL">BASE_URL</a></li><li><a href="global.html#assignRandomAvatarColor">assignRandomAvatarColor</a></li><li><a href="global.html#checkCategory">checkCategory</a></li><li><a href="global.html#checkCategorySelection">checkCategorySelection</a></li><li><a href="global.html#checkDate">checkDate</a></li><li><a href="global.html#checkDateFormat">checkDateFormat</a></li><li><a href="global.html#checkDuedate">checkDuedate</a></li><li><a href="global.html#checkEmailExists">checkEmailExists</a></li><li><a href="global.html#checkEmailExistsForEdit">checkEmailExistsForEdit</a></li><li><a href="global.html#checkIfOldSubtaskExists">checkIfOldSubtaskExists</a></li><li><a href="global.html#checkLoginEnable">checkLoginEnable</a></li><li><a href="global.html#checkNumberInterval">checkNumberInterval</a></li><li><a href="global.html#checkRequiredFields">checkRequiredFields</a></li><li><a href="global.html#checkRequiredFieldsToEnableButton">checkRequiredFieldsToEnableButton</a></li><li><a href="global.html#checkSingleUserMatch">checkSingleUserMatch</a></li><li><a href="global.html#checkTitle">checkTitle</a></li><li><a href="global.html#clearFormInputs">clearFormInputs</a></li><li><a href="global.html#clearPriorityButtons">clearPriorityButtons</a></li><li><a href="global.html#closeEditContact">closeEditContact</a></li><li><a href="global.html#closeMobileActionMenu">closeMobileActionMenu</a></li><li><a href="global.html#createContactDropDownSearchList">createContactDropDownSearchList</a></li><li><a href="global.html#createContactDropDownSearchListElement">createContactDropDownSearchListElement</a></li><li><a href="global.html#createContactElement">createContactElement</a></li><li><a href="global.html#createSuccessOverlayLogin">createSuccessOverlayLogin</a></li><li><a href="global.html#createTask">createTask</a></li><li><a href="global.html#dateValidation">dateValidation</a></li><li><a href="global.html#deleteContact">deleteContact</a></li><li><a href="global.html#deleteContactFromFirebase">deleteContactFromFirebase</a></li><li><a href="global.html#deleteContactFromSuccessPage">deleteContactFromSuccessPage</a></li><li><a href="global.html#deleteSelectedContact">deleteSelectedContact</a></li><li><a href="global.html#displayContactDataInForm">displayContactDataInForm</a></li><li><a href="global.html#displayContactDetails">displayContactDetails</a></li><li><a href="global.html#displayContactsList">displayContactsList</a></li><li><a href="global.html#editContact">editContact</a></li><li><a href="global.html#editSelectedContact">editSelectedContact</a></li><li><a href="global.html#emailInput">emailInput</a></li><li><a href="global.html#extractSubtaskNrFromId">extractSubtaskNrFromId</a></li><li><a href="global.html#findMatchingUser">findMatchingUser</a></li><li><a href="global.html#generateInitials">generateInitials</a></li><li><a href="global.html#getAllUsers">getAllUsers</a></li><li><a href="global.html#getAssignedPersons">getAssignedPersons</a></li><li><a href="global.html#getCheckbox">getCheckbox</a></li><li><a href="global.html#getCheckboxImg">getCheckboxImg</a></li><li><a href="global.html#getContactNameSearchIndices">getContactNameSearchIndices</a></li><li><a href="global.html#getCurrentPriority">getCurrentPriority</a></li><li><a href="global.html#getDateWarning">getDateWarning</a></li><li><a href="global.html#getDescription">getDescription</a></li><li><a href="global.html#getDuedate">getDuedate</a></li><li><a href="global.html#getFirstThreeAssignments">getFirstThreeAssignments</a></li><li><a href="global.html#getFormData">getFormData</a></li><li><a href="global.html#getNextContactId">getNextContactId</a></li><li><a href="global.html#getProgressbarTemplate">getProgressbarTemplate</a></li><li><a href="global.html#getSingleSubtask">getSingleSubtask</a></li><li><a href="global.html#getSubtaskTxt">getSubtaskTxt</a></li><li><a href="global.html#getSubtasks">getSubtasks</a></li><li><a href="global.html#getTitle">getTitle</a></li><li><a href="global.html#groupContactsByLetter">groupContactsByLetter</a></li><li><a href="global.html#handleContactLoadError">handleContactLoadError</a></li><li><a href="global.html#handleCreateMode">handleCreateMode</a></li><li><a href="global.html#handleEditMode">handleEditMode</a></li><li><a href="global.html#handleLoginPasswordInput">handleLoginPasswordInput</a></li><li><a href="global.html#hideSelectionList">hideSelectionList</a></li><li><a href="global.html#initAddTaskOverlay">initAddTaskOverlay</a></li><li><a href="global.html#initAddTaskPage">initAddTaskPage</a></li><li><a href="global.html#initAssignedPersons">initAssignedPersons</a></li><li><a href="global.html#initContactSearchList">initContactSearchList</a></li><li><a href="global.html#initLoginAutoFill">initLoginAutoFill</a></li><li><a href="global.html#initTaskForm">initTaskForm</a></li><li><a href="global.html#initializeEventListeners">initializeEventListeners</a></li><li><a href="global.html#initializeMobileResizeHandler">initializeMobileResizeHandler</a></li><li><a href="global.html#isDateInFuture">isDateInFuture</a></li><li><a href="global.html#isEmailValid">isEmailValid</a></li><li><a href="global.html#isLeapYear">isLeapYear</a></li><li><a href="global.html#loadAllContacts">loadAllContacts</a></li><li><a href="global.html#loadContactDataForEditPage">loadContactDataForEditPage</a></li><li><a href="global.html#loadContactDataForSuccessPage">loadContactDataForSuccessPage</a></li><li><a href="global.html#loadContactForEdit">loadContactForEdit</a></li><li><a href="global.html#loadContactScripts">loadContactScripts</a></li><li><a href="global.html#loadExistingContact">loadExistingContact</a></li><li><a href="global.html#loginButton">loginButton</a></li><li><a href="global.html#loginErrorContainer">loginErrorContainer</a></li><li><a href="global.html#loginGuest">loginGuest</a></li><li><a href="global.html#loginPwdIcon">loginPwdIcon</a></li><li><a href="global.html#loginUser">loginUser</a></li><li><a href="global.html#navigateToSuccessPage">navigateToSuccessPage</a></li><li><a href="global.html#openAddContactOverlay">openAddContactOverlay</a></li><li><a href="global.html#openMobileActionMenu">openMobileActionMenu</a></li><li><a href="global.html#overlayMessage">overlayMessage</a></li><li><a href="global.html#passwordIcon">passwordIcon</a></li><li><a href="global.html#passwordInput">passwordInput</a></li><li><a href="global.html#passwordInputField">passwordInputField</a></li><li><a href="global.html#removeDarkFixedLogoAfterAnimation">removeDarkFixedLogoAfterAnimation</a></li><li><a href="global.html#removeLightLogoAfterSplash">removeLightLogoAfterSplash</a></li><li><a href="global.html#removeOrAddWarning">removeOrAddWarning</a></li><li><a href="global.html#renderPersonIconsList">renderPersonIconsList</a></li><li><a href="global.html#resetExistingLoginError">resetExistingLoginError</a></li><li><a href="global.html#saveContact">saveContact</a></li><li><a href="global.html#saveContactToFirebase">saveContactToFirebase</a></li><li><a href="global.html#saveEditContactToFirebase">saveEditContactToFirebase</a></li><li><a href="global.html#selectContact">selectContact</a></li><li><a href="global.html#selectContactById">selectContactById</a></li><li><a href="global.html#selectPerson">selectPerson</a></li><li><a href="global.html#setAllButtonInactive">setAllButtonInactive</a></li><li><a href="global.html#setCurrentUserData">setCurrentUserData</a></li><li><a href="global.html#setDefaultIconPriority">setDefaultIconPriority</a></li><li><a href="global.html#setIconPriority">setIconPriority</a></li><li><a href="global.html#setPriorityButtonDefault">setPriorityButtonDefault</a></li><li><a href="global.html#setupClickOutsideToClose">setupClickOutsideToClose</a></li><li><a href="global.html#showCategorySelection">showCategorySelection</a></li><li><a href="global.html#showEmptyState">showEmptyState</a></li><li><a href="global.html#showErrorState">showErrorState</a></li><li><a href="global.html#showGenericLoginError">showGenericLoginError</a></li><li><a href="global.html#showLoadingState">showLoadingState</a></li><li><a href="global.html#showLoginErrorAndStop">showLoginErrorAndStop</a></li><li><a href="global.html#showMobileContactList">showMobileContactList</a></li><li><a href="global.html#showOverlayMessage">showOverlayMessage</a></li><li><a href="global.html#showStaticLogoAfterAnimation">showStaticLogoAfterAnimation</a></li><li><a href="global.html#showToastMessage">showToastMessage</a></li><li><a href="global.html#signupOverlay">signupOverlay</a></li><li><a href="global.html#simpleCheckDuedate">simpleCheckDuedate</a></li><li><a href="global.html#smoothLogoHandover">smoothLogoHandover</a></li><li><a href="global.html#storeUserInitials">storeUserInitials</a></li><li><a href="global.html#toggleCheckbox">toggleCheckbox</a></li><li><a href="global.html#toggleDropDownIcon">toggleDropDownIcon</a></li><li><a href="global.html#toggleDropDownSelection">toggleDropDownSelection</a></li><li><a href="global.html#toggleInputErrorDesign">toggleInputErrorDesign</a></li><li><a href="global.html#toggleLoginVisibility">toggleLoginVisibility</a></li><li><a href="global.html#toggleMobileActionMenu">toggleMobileActionMenu</a></li><li><a href="global.html#togglePriorityButtons">togglePriorityButtons</a></li><li><a href="global.html#toggleWarning">toggleWarning</a></li><li><a href="global.html#updateAvatarPreview">updateAvatarPreview</a></li><li><a href="global.html#updateButtonState">updateButtonState</a></li><li><a href="global.html#updateFieldValidation">updateFieldValidation</a></li><li><a href="global.html#updateSaveButtonState">updateSaveButtonState</a></li><li><a href="global.html#validateContactForm">validateContactForm</a></li><li><a href="global.html#validateEmail">validateEmail</a></li><li><a href="global.html#validateName">validateName</a></li><li><a href="global.html#validatePhone">validatePhone</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Oct 06 2025 14:22:22 GMT+0200 (Mitteleuropäische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
